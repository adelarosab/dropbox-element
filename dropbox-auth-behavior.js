// Generated by CoffeeScript 1.10.0
(function() {
  window.DropboxAuthBehavior = {
    properties: {

      /* Instance of the Dropbox.Client using for our requests. */
      instance: Object,

      /* App key obtained from Dropbox Developer Console. https://www.dropbox.com/developers/apps */
      key: {
        observer: "_observeKey",
        reflectToAttribute: true,
        type: String
      }
    },
    _observeKey: function(key) {
      var defer;
      defer = Promise.defer();
      this.promise = defer.promise;
      this.instance = new Dropbox.Client({
        key: key
      });
      return this.instance.authenticate(function(error) {
        if (error != null) {
          return this.fire("error", error);
        } else {
          return defer.resolve();
        }
      });
    },
    execute: function(cb) {
      return this.promise.then(cb.bind(this));
    }
  };

}).call(this);

//# sourceMappingURL=dropbox-auth-behavior.js.map
